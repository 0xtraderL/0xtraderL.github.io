---
layout: default
---

{% assign current_lang = page.lang | default: site.default_lang %}
{% assign filtered_posts = site.posts | posts_by_language: current_lang %}

<div id="page-category">
  <h1 class="ps-md-2 mb-4">
    <i class="fas fa-stream fa-fw text-muted"></i>
    {{ page.title }}
    <span class="lead text-muted ps-2">{{ filtered_posts.size }}</span>
  </h1>

  <div class="row">
    <div class="col-12 col-lg-11 col-xl-8">
      {% assign categories = filtered_posts | map: 'categories' | flatten | uniq | sort_natural %}
      {% for category in categories %}
        {% assign category_posts = filtered_posts | where: 'categories', category %}
        {% if category_posts.size > 0 %}
          <div class="card category-trigger mb-4" id="h_{{ category | slugify }}">
            <div class="card-body">
              <h2 class="card-title">
                <i class="far fa-folder-open fa-fw text-muted"></i>
                {{ category }}
                <span class="text-muted">({{ category_posts.size }})</span>
              </h2>

              <div class="post-list">
                {% for post in category_posts %}
                  <div class="post-preview">
                    <span class="post-meta text-muted">
                      {{ post.date | date: "%b %d, %Y" }}
                      {% if post.categories.size > 0 %}
                        <i class="far fa-folder-open fa-fw"></i>
                        {% for cat in post.categories %}
                          <span class="categories">{{ cat }}</span>
                          {% unless forloop.last %}, {% endunless %}
                        {% endfor %}
                      {% endif %}
                    </span>
                    <h3 class="post-title">
                      <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                    </h3>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}

      {% unless categories.size > 0 %}
        <div class="text-center">
          <p class="text-muted">{{ site.t[current_lang].no_posts | default: "No categories found" }}</p>
        </div>
      {% endunless %}
    </div>
  </div>
</div> 